<?php  function getfirstchar($s0){ return ff_letter_first($s0); } function getpinyin($str,$ishead=0,$isclose=1){ return ff_pinyin($str,$ishead=0,$isclose=1); } function getsitepath($filename){ return get_site_path($filename); } function getbaseurl($baseurl,$url){ return get_base_url($baseurl,$url); } function getfile($url){ return ff_file_get_contents($url); } function getvoddata($rule,$html){ return ff_preg_match($html,$rule); } function getvodall($rule,$html){ return ff_preg_match_all($html,$rule); } function getreurl($listurl){ return ff_krsort_url($listurl); } function getreplace($arr){ return ff_implode_rule($arr); } function getrole($str){ return ff_replace_rule($str); } function getrandstr($string){ return ff_rand_str($string); } function read_file($l1){ return @file_get_contents($l1); } function write_file($l1, $l2=''){ $dir = dirname($l1); if(!is_dir($dir)){ mkdirss($dir); } return @file_put_contents($l1, $l2); } function mkdirss($dirs,$mode=0777) { if(!is_dir($dirs)){ mkdirss(dirname($dirs), $mode); return @mkdir($dirs, $mode); } return true; } function arr2file($filename, $arr=''){ if(is_array($arr)){ $con = var_export($arr,true); } else{ $con = $arr; } $con = "<?php\nreturn $con;\n?>"; write_file($filename, $con); } function get_http_url(){ return htmlspecialchars("http://".$_SERVER['HTTP_HOST'].$_SERVER["REQUEST_URI"]); } function get_site_path($filename){ $basepath = $_SERVER['PHP_SELF']; $basepath = substr($basepath,0,strpos($basepath,$filename)); return $basepath; } function get_base_url($baseurl,$url){ if("#" == $url){ return ""; }elseif(FALSE !== stristr($url,"http://")){ return $url; }elseif( "/" == substr($url,0,1) ){ $tmp = parse_url($baseurl); return $tmp["scheme"]."://".$tmp["host"].$url; }else{ $tmp = pathinfo($baseurl); return $tmp["dirname"]."/".$url; } } function get_domain($url){ preg_match("|http://(.*)\/|isU", $url, $arr_domain); return $arr_domain[1]; } function u2g($str){ return iconv("UTF-8","GBK",$str); } function g2u($str){ return iconv("GBK","UTF-8//ignore",$str); } function t2js($l1, $l2=1){ $I1 = str_replace(array("\r", "\n"), array('', '\n'), addslashes($l1)); return $l2 ? "document.write(\"$I1\");" : $I1; } function nr($str){ $str = str_replace(array("<nr/>","<rr/>"),array("\n","\r"),$str); return trim($str); } function nb($str){ $str = str_replace("&nbsp;",' ',$str); $str = str_replace("　",' ',$str); $str = ereg_replace("[\r\n\t ]{1,}",' ',$str); return trim($str); } function hh($str,$rptype=0){ $str = stripslashes($str); $str = htmlspecialchars($str); $str = nb($str); return addslashes($str); } function msubstr($str, $start=0, $length, $suffix=false){ return ff_msubstr(eregi_replace('<[^>]+>','',nb($str)),$start,$length,'utf-8',$suffix); } function ff_msubstr($str, $start=0, $length, $charset="utf-8", $suffix=true){ $re['utf-8'] = "/[\x01-\x7f]|[\xc2-\xdf][\x80-\xbf]|[\xe0-\xef][\x80-\xbf]{2}|[\xf0-\xff][\x80-\xbf]{3}/"; $re['gb2312'] = "/[\x01-\x7f]|[\xb0-\xf7][\xa0-\xfe]/"; $re['gbk'] = "/[\x01-\x7f]|[\x81-\xfe][\x40-\xfe]/"; $re['big5'] = "/[\x01-\x7f]|[\x81-\xfe]([\x40-\x7e]|\xa1-\xfe])/"; preg_match_all($re[$charset], $str, $match); $length_new = $length; for($i=$start; $i<$length; $i++){ if (ord($match[0][$i]) > 0xa0){ }else{ $length_new++; $length_chi++; } } if($length_chi<$length){ $length_new = $length+($length_chi/2); } $slice = join("",array_slice($match[0], $start, $length_new)); if($suffix && $slice != $str){ return $slice."…"; } return $slice; } function ff_pinyin($str,$ishead=0,$isclose=1){ $str = u2g($str); global $pinyins; $restr = ''; $str = trim($str); $slen = strlen($str); if($slen<2){ return $str; } if(count($pinyins)==0){ $fp = fopen('./Common/pinyin.dat','r'); while(!feof($fp)){ $line = trim(fgets($fp)); $pinyins[$line[0].$line[1]] = substr($line,3,strlen($line)-3); } fclose($fp); } for($i=0;$i<$slen;$i++){ if(ord($str[$i])>0x80){ $c = $str[$i].$str[$i+1]; $i++; if(isset($pinyins[$c])){ if($ishead==0){ $restr .= $pinyins[$c]; } else{ $restr .= $pinyins[$c][0]; } }else{ } }else if( eregi("[a-z0-9]",$str[$i]) ){ $restr .= $str[$i]; } else{ } } if($isclose==0){ unset($pinyins); } return $restr; } function ff_letter_first($s0){ $firstchar_ord=ord(strtoupper($s0{0})); if (($firstchar_ord>=65 and $firstchar_ord<=91)or($firstchar_ord>=48 and $firstchar_ord<=57)) return $s0{0}; $s=iconv("UTF-8","gb2312", $s0); $asc=ord($s{0})*256+ord($s{1})-65536; if($asc>=-20319 and $asc<=-20284)return "A"; if($asc>=-20283 and $asc<=-19776)return "B"; if($asc>=-19775 and $asc<=-19219)return "C"; if($asc>=-19218 and $asc<=-18711)return "D"; if($asc>=-18710 and $asc<=-18527)return "E"; if($asc>=-18526 and $asc<=-18240)return "F"; if($asc>=-18239 and $asc<=-17923)return "G"; if($asc>=-17922 and $asc<=-17418)return "H"; if($asc>=-17417 and $asc<=-16475)return "J"; if($asc>=-16474 and $asc<=-16213)return "K"; if($asc>=-16212 and $asc<=-15641)return "L"; if($asc>=-15640 and $asc<=-15166)return "M"; if($asc>=-15165 and $asc<=-14923)return "N"; if($asc>=-14922 and $asc<=-14915)return "O"; if($asc>=-14914 and $asc<=-14631)return "P"; if($asc>=-14630 and $asc<=-14150)return "Q"; if($asc>=-14149 and $asc<=-14091)return "R"; if($asc>=-14090 and $asc<=-13319)return "S"; if($asc>=-13318 and $asc<=-12839)return "T"; if($asc>=-12838 and $asc<=-12557)return "W"; if($asc>=-12556 and $asc<=-11848)return "X"; if($asc>=-11847 and $asc<=-11056)return "Y"; if($asc>=-11055 and $asc<=-10247)return "Z"; return 0;} function ff_file_get_contents($url){ for($i=0;$i<3;$i++){ $content = @file_get_contents($url); if($content) break; } if($content){ return $content; } if(function_exists('curl_init')){ $ch = curl_init(); curl_setopt ($ch, CURLOPT_URL, $url); curl_setopt ($ch, CURLOPT_HEADER, 0); curl_setopt ($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt ($ch, CURLOPT_CONNECTTIMEOUT,10); $content = curl_exec($ch); curl_close($ch); if($content){ return $content; } } return false; } function ff_preg_match($rule,$html){ $arr = explode('$$$',$rule); if(count($arr) == 2){ preg_match('/'.$arr[1].'/', $html, $data); return $data[$arr[0]].''; }else{ preg_match('/'.$rule.'/', $html, $data); return $data[1].''; } } function ff_preg_match_all($rule,$html){ $arr = explode('$$$',$rule); if(count($arr) == 2){ preg_match_all('/'.$arr[1].'/', $html, $data); return $data[$arr[0]]; }else{ preg_match_all('/'.$rule.'/', $html, $data); return $data[1]; } } function ff_krsort_url($listurl){ krsort($listurl); foreach($listurl as $val){ $list[]=$val; } return $list; } function ff_implode_rule($arr){ foreach($arr as $val){ $array[] = trim(stripslashes($val)); } return implode('|||',$array); } function ff_replace_rule($str){ $arr1 = array('?','"','(',')','[',']','.','/',':','*','||'); $arr2 = array('\?','\"','\(','\)','\[','\]','\.','\/','\:','.*?','(.*?)'); return str_replace('\[$ppvod\]','([\s\S]*?)',str_replace($arr1,$arr2,$str)); } function ff_rand_str($string){ $arr = C('play_collect_content'); $all = iconv_strlen($string,'utf-8'); $len = floor(mt_rand(0,$all-1)); $str = msubstr($string,0,$len); $str2 = msubstr($string,$len,$all); return $str.$arr[array_rand($arr,1)].$str2; } function ff_bind_id($key){ $bindcache = F('_xml/bind'); return $bindcache[$key]; } function ff_tag_auto($title,$content){ $data = ff_getfile('http://keyword.discuz.com/related_kw.html?ics=utf-8&ocs=utf-8&title='.rawurlencode($title).'&content='.rawurlencode(msubstr($content,0,500))); if($data) { $parser = xml_parser_create(); xml_parser_set_option($parser, XML_OPTION_CASE_FOLDING, 0); xml_parser_set_option($parser, XML_OPTION_SKIP_WHITE, 1); xml_parse_into_struct($parser, $data, $values, $index); xml_parser_free($parser); $kws = array(); foreach($values as $valuearray) { if($valuearray['tag'] == 'kw' || $valuearray['tag'] == 'ekw') { $kws[] = trim($valuearray['value']); } } return implode(' ',$kws); } return false; } function getlistid($str){ $arr=list_search(F('_ppvod/list'),'list_name='.$str); if(empty($arr)){ return 0; }else{ return $arr[0]['list_id']; } } function getlistname($cid,$type='list_name'){ $arr=list_search(F('_ppvod/list'),'list_id='.$cid); if(is_array($arr)){ return $arr[0][$type]; }else{ return '未知ID'.$cid; } } function getlistarr($cid,$type='list_id'){ $tree=list_search(F('_ppvod/listvod'),'list_id='.$cid); if(!empty($tree[0]['son'])){ foreach($tree[0]['son'] as $val){$param[]=$val[$type];} return $param; }else{ return false; } } function getlistson($pid){ $tree=list_search(F('_ppvod/listtree'),'list_id='.$pid); if(!empty($tree[0]['son'])){ return false; }else{ return true; } } function getcount($cid){ $where=array(); $where['vod_del']=0; if($cid>0){ if(999==$cid){ $time=time()-3600*24; $where['vod_addtime']=array('GT',$time); }else{ $tree=list_search(F('_ppvod/listvod'),'list_id='.$cid); if(!empty($tree[0]['son'])){foreach($tree[0]['son'] as $val){$abc['cid'][]=$val['list_id'];}}else{$abc['cid']=$cid;} if($abc['cid']){$where['vod_cid']=ids($abc['cid']);} } } $rs=D("Home.Vod"); $count=$rs->where($where)->count('vod_id'); return $count+0; } function getsid($str){ if('news'==$str){ return 2; }else{ return 1; } } function ids($l1){ if(is_array($l1)){ $l1 = implode(',', $l1); } if(strpos($l1, ',')!==false){ return array('IN',''.$l1.''); }else{ return $l1; } } function getlisturl($cid,$page){ if(1==c('url_dir_a')){ if(1==$page){$listurl=$cid.'/index';}else{$listurl=$cid.'-'.$page.'/index';} }elseif(2==c('url_dir_a')){ if(1==$page){$listurl=getlistname($cid,'list_dir').'/index';}else{$listurl=getlistname($cid,'list_dir').'-'.$page.'/index';} }elseif(3==c('url_dir_a')){ $listurl=$cid.'_'.$page; }elseif(4==c('url_dir_a')){ $listurl=getlistname($cid,'list_dir').'_'.$page; }else{ $listurl=md5($cid).'_'.$page; } return $listurl; } function getdataurl($id,$cid,$vodname){ if(1==C('url_dir_b')){ $readurl=C('url_voddata').$id.'/index'; }elseif(2==C('url_dir_b')){ $readurl=C('url_voddata').md5($id).'/index'; }elseif(4==C('url_dir_b')){ $readurl=C('url_voddata').md5($id); }elseif(5==C('url_dir_b')){ $readurl = ff_pinyin($vodname); if(empty($readurl)){$readurl=$vodname;}; $readurl=getlistname($cid,'list_dir').'/'.$readurl.'/index'; }else{ $readurl=C('url_voddata').$id; } return $readurl; } function getdataurl_p($id,$page){ if(1==c('url_dir_b')){ if(1==$page){$readurl=$id.'/index';}else{$readurl=$id.'-'.$page.'/index';} }elseif(2==c('url_dir_b')){ if(1==$page){$readurl=md5($id).'/index';}else{$readurl=md5($id).'-'.$page.'/index';} }elseif(4==c('url_dir_b')){ $readurl=md5($id).'-'.$page; }else{ $readurl=$id.'-'.$page; } return $readurl; } function getplayurl($vodid){ if(C('url_html')==1||C('url_html')==2){ $playurl=C('site_path').C('url_vodplay').$vodid.C('html_file_suffix').'?vod-play-id-'.$vodid.'-sid-0-pid-0'.C('html_file_suffix'); }else{ $abc['id']=$vodid;$abc['sid']=0;$abc['pid']=0; $playurl=ppvodurl('Home-vod/play',$abc,'',false,true); } return $playurl; } function geturl($url,$str){ $str=str_replace('/','-',$str); $url=str_replace(C('url_html_suffix'),'',$url).'-'.$str.C('url_html_suffix'); return $url; } function ppvodsql($model,$field,$where,$order,$limit,$page){ $rs=D("Home.".$model); if(!empty($page)){$array['count']=$rs->where($where)->count($model.'_id');}; $array['list']=$rs->field($field)->where($where)->order($order)->limit($limit)->page($page)->select(); return $array; } function ppvodpage($currentPage,$totalPages,$halfPer=5,$url,$pagego){ $linkPage .= ( $currentPage > 1 ) ? '<a href="'.str_replace('{!page!}',1,$url).'" class="pagegbk">首页</a>&nbsp;<a href="'.str_replace('{!page!}',($currentPage-1),$url).'" class="pagegbk">上一页</a>&nbsp;' : '<em>首页</em>&nbsp;<em>上一页</em>&nbsp;'; for($i=$currentPage-$halfPer,$i>1||$i=1,$j=$currentPage+$halfPer,$j<$totalPages||$j=$totalPages;$i<$j+1;$i++){ $linkPage .= ($i==$currentPage)?'<span>'.$i.'</span>&nbsp;':'<a href="'.str_replace('{!page!}',$i,$url).'">'.$i.'</a>&nbsp;'; } $linkPage .= ( $currentPage < $totalPages ) ? '<a href="'.str_replace('{!page!}',($currentPage+1),$url).'" class="pagegbk">下一页</a>&nbsp;<a href="'.str_replace('{!page!}',$totalPages,$url).'" class="pagegbk">尾页</a>' : '<em>下一页</em>&nbsp;<em>尾页</em>'; if(!empty($pagego)){ $linkPage .='&nbsp;<input type="input" name="page" size=4 class="pagego" /><input type="button" value="跳转" onclick="'.$pagego.'" class="pagebtn" />'; } return str_replace('-1/"','/"',$linkPage); } function ppvodurl($model,$params,$indexphp,$redirect=false,$suffix=false){ return str_replace('Admin-','',str_replace('Home-','',str_replace($indexphp.'?s=/','?s=',U($model,$params,$redirect,$suffix)))); }; function getpicurl($file){ if(strpos($file,'http://')!==false){ return $file; }else{ $prefix=C('upload_http_prefix'); if(!empty($prefix)){ return $prefix.$file; }else{ return C('site_path').C('upload_path').'/'.$file; } }; } function getpicurl_s($file){ $prefix=C('upload_http_prefix'); if(!empty($prefix)){ return $prefix.$file; }else{ $file=strrchr($file,"/"); return C('site_path').C('upload_path').'-s/'.$file; } } function getletter($file='vod',$str=''){ if(C('url_html')==1){ $index='index.html'; }else{ $index='index.php'; } for($i=1;$i<=26;$i++){ $url=ppvodurl('Home-'.$file.'/search',array('id'=>chr($i+64),'x'=>'letter'),$index,false,true); $str.='<a href="'.$url.'" class="pp_letter">'.chr($i+64).'</a>'; } return $str; } function getactorurl($str,$type="actor"){ $str=str_replace("/"," ",$str); $arr=explode(" ",$str); $restr=''; foreach($arr as $key=>$val){ $restr=$restr.'<a href="'.C('site_path').'index.php?s=vod-search-id-'.urlencode($val).'-x-'.$type.'" target="_blank">'.$val.'</a> '; } return $restr; } function getadsurl($str,$charset="utf-8"){ return '<script type="text/javascript" src="'.C('site_path').'Public/ads/'.$str.'.js" charset="'.$charset.'"></script>'; } function getqvodname($jiname,$server,$playname){ $jiname = getvoddata($jiname,'3$$$(.*)\|(.*)\|(.*)\.(.*)\|'); return $jiname; } function getjifen($fen){ $array = explode('.',$fen); return '<strong>'.$array[0].'</strong>.'.$array[1]; } function getxtime($day){ $day = intval($day); return mktime(23,59,59,date("m"),date("d")-$day,date("y")); } function getcolor($str,$color){ if(empty($color)){ return $str; }else{ return '<font color="'.$color.'">'.$str.'</font>'; } } function getcolordate($type='Y-m-d H:i:s',$time,$color='red'){ if((time()-$time)>86400){ return date($type,$time); }else{ return '<font color="'.$color.'">'.date($type,$time).'</font>'; } } function get_client_ip(){ if (getenv("HTTP_CLIENT_IP") && strcasecmp(getenv("HTTP_CLIENT_IP"), "unknown")) $ip = getenv("HTTP_CLIENT_IP"); else if (getenv("HTTP_X_FORWARDED_FOR") && strcasecmp(getenv("HTTP_X_FORWARDED_FOR"), "unknown")) $ip = getenv("HTTP_X_FORWARDED_FOR"); else if (getenv("REMOTE_ADDR") && strcasecmp(getenv("REMOTE_ADDR"), "unknown")) $ip = getenv("REMOTE_ADDR"); else if (isset($_SERVER['REMOTE_ADDR']) && $_SERVER['REMOTE_ADDR'] && strcasecmp($_SERVER['REMOTE_ADDR'], "unknown")) $ip = $_SERVER['REMOTE_ADDR']; else $ip = "unknown"; return($ip); } function is_utf8($string){ return preg_match('%^(?:
		 [\x09\x0A\x0D\x20-\x7E]            # ASCII
	   | [\xC2-\xDF][\x80-\xBF]             # non-overlong 2-byte
	   |  \xE0[\xA0-\xBF][\x80-\xBF]        # excluding overlongs
	   | [\xE1-\xEC\xEE\xEF][\x80-\xBF]{2}  # straight 3-byte
	   |  \xED[\x80-\x9F][\x80-\xBF]        # excluding surrogates
	   |  \xF0[\x90-\xBF][\x80-\xBF]{2}     # planes 1-3
	   | [\xF1-\xF3][\x80-\xBF]{3}          # planes 4-15
	   |  \xF4[\x80-\x8F][\x80-\xBF]{2}     # plane 16
   )*$%xs', $string); } function h($text, $tags = null){ $text = trim($text); $text = preg_replace('/<!--?.*-->/','',$text); $text = preg_replace('/<\?|\?'.'>/','',$text); $text = preg_replace('/<script?.*\/script>/','',$text); $text = str_replace('[','&#091;',$text); $text = str_replace(']','&#093;',$text); $text = str_replace('|','&#124;',$text); $text = preg_replace('/\r?\n/','',$text); $text = preg_replace('/<br(\s\/)?'.'>/i','[br]',$text); $text = preg_replace('/(\[br\]\s*){10,}/i','[br]',$text); while(preg_match('/(<[^><]+)( lang|on|action|background|codebase|dynsrc|lowsrc)[^><]+/i',$text,$mat)){ $text=str_replace($mat[0],$mat[1],$text); } while(preg_match('/(<[^><]+)(window\.|javascript:|js:|about:|file:|document\.|vbs:|cookie)([^><]*)/i',$text,$mat)){ $text=str_replace($mat[0],$mat[1].$mat[3],$text); } if(empty($tags)) { $tags = 'table|td|th|tr|i|b|u|strong|img|p|br|div|strong|em|ul|ol|li|dl|dd|dt|a'; } $text = preg_replace('/<('.$tags.')( [^><\[\]]*)>/i','[\1\2]',$text); $text = preg_replace('/<\/?(html|head|meta|link|base|basefont|body|bgsound|title|style|script|form|iframe|frame|frameset|applet|id|ilayer|layer|name|script|style|xml)[^><]*>/i','',$text); while(preg_match('/<([a-z]+)[^><\[\]]*>[^><]*<\/\1>/i',$text,$mat)){ $text=str_replace($mat[0],str_replace('>',']',str_replace('<','[',$mat[0])),$text); } while(preg_match('/(\[[^\[\]]*=\s*)(\"|\')([^\2=\[\]]+)\2([^\[\]]*\])/i',$text,$mat)){ $text=str_replace($mat[0],$mat[1].'|'.$mat[3].'|'.$mat[4],$text); } while(preg_match('/\[[^\[\]]*(\"|\')[^\[\]]*\]/i',$text,$mat)){ $text=str_replace($mat[0],str_replace($mat[1],'',$mat[0]),$text); } $text = str_replace('<','&lt;',$text); $text = str_replace('>','&gt;',$text); $text = str_replace('"','&quot;',$text); $text = str_replace('[','<',$text); $text = str_replace(']','>',$text); $text = str_replace('|','"',$text); $text = str_replace('  ',' ',$text); return $text; } function list_to_tree($list, $pk='id',$pid = 'pid',$child = '_child',$root=0){ $tree = array(); if(is_array($list)) { $refer = array(); foreach ($list as $key => $data) { $refer[$data[$pk]] =& $list[$key]; } foreach ($list as $key => $data) { $parentId = $data[$pid]; if ($root == $parentId) { $tree[] =& $list[$key]; }else{ if (isset($refer[$parentId])) { $parent =& $refer[$parentId]; $parent[$child][] =& $list[$key]; } } } } return $tree; } function list_sort_by($list,$field, $sortby='asc') { if(is_array($list)){ $refer = $resultSet = array(); foreach ($list as $i => $data) $refer[$i] = &$data[$field]; switch ($sortby) { case 'asc': asort($refer); break; case 'desc': arsort($refer); break; case 'nat': natcasesort($refer); break; } foreach ( $refer as $key=> $val) $resultSet[] = &$list[$key]; return $resultSet; } return false; } function list_search($list,$condition) { if(is_string($condition)) parse_str($condition,$condition); $resultSet = array(); foreach ($list as $key=>$data){ $find = false; foreach ($condition as $field=>$value){ if(isset($data[$field])) { if(0 === strpos($value,'/')) { $find = preg_match($value,$data[$field]); }elseif($data[$field]==$value){ $find = true; } } } if($find) $resultSet[] = &$list[$key]; } return $resultSet; } function gettplname($filename){ if('pp_footer.html'==$filename){ return '底部公用模板'; }elseif('pp_header.html'==$filename){ return '顶部公用模板'; }elseif('pp_index.html'==$filename){ return '网站首页模板'; }elseif('pp_mapbaidu.html'==$filename){ return 'Baidu地图模板'; }elseif('pp_mapgoogle.html'==$filename){ return 'Google地图模板'; }elseif('pp_maprss.html'==$filename){ return 'Rss地图模板'; }elseif('pp_mapsite.html'==$filename){ return 'Html地图模板'; }elseif('pp_news.html'==$filename){ return '新闻模块内容模板'; }elseif('pp_newslist.html'==$filename){ return '新闻模块栏目列表模板'; }elseif('pp_newssearch.html'==$filename){ return '新闻模块搜索模板'; }elseif('pp_play.html'==$filename){ return '播放页模板'; }elseif('pp_vod.html'==$filename){ return '视频模块内容模板'; }elseif('pp_vodlist.html'==$filename){ return '视频模块栏目列表模板'; }elseif('pp_vodchannel.html'==$filename){ return '视频模块栏目列表大类模板'; }elseif('pp_vodsearch.html'==$filename){ return '视频模块搜索模板'; }elseif('pp_cm.html'==$filename){ return '评论模板'; }elseif('pp_gb.html'==$filename){ return '留言模板'; }elseif('pp_tag.html'==$filename){ return '标签关键字模板'; }elseif('pp_tagvod.html'==$filename){ return '视频标签模板'; }elseif('pp_tagnews.html'==$filename){ return '新闻标签模板'; }else{ return false; } } return array ( 'app_debug' => false, 'app_domain_deploy' => false, 'app_plugin_on' => false, 'app_file_case' => false, 'app_group_depr' => '.', 'app_group_list' => 'Home,Admin,Plus', 'app_autoload_reg' => false, 'app_autoload_path' => 'Think.Util.', 'app_config_list' => array ( 0 => 'taglibs', 1 => 'routes', 2 => 'tags', 3 => 'htmls', 4 => 'modules', 5 => 'actions', ), 'cookie_expire' => 3600, 'cookie_domain' => '', 'cookie_path' => '/', 'cookie_prefix' => '', 'default_app' => '@', 'default_group' => 'Home', 'default_module' => 'Index', 'default_action' => 'index', 'default_charset' => 'utf-8', 'default_timezone' => 'Asia/Shanghai', 'default_ajax_return' => 'JSON', 'default_theme' => 'qiyi', 'default_lang' => 'zh-cn', 'db_type' => 'mysql', 'db_host' => 'localhost', 'db_name' => 'hezll_ppvod', 'db_user' => 'hezlldbuser', 'db_pwd' => 'KcZNGGNMEEYuAXP3', 'db_port' => '3306', 'db_prefix' => 'pp_', 'db_suffix' => '', 'db_fieldtype_check' => true, 'db_fields_cache' => true, 'db_charset' => 'utf8', 'db_deploy_type' => 0, 'db_rw_separate' => false, 'data_cache_time' => -1, 'data_cache_compress' => false, 'data_cache_check' => false, 'data_cache_type' => 'File', 'data_cache_path' => './Runtime/Temp/', 'data_cache_subdir' => true, 'data_path_level' => 2, 'error_message' => '您浏览的页面暂时发生了错误！请稍后再试～', 'error_page' => '', 'html_cache_on' => false, 'html_cache_time' => 0, 'html_read_type' => 0, 'html_file_suffix' => '.html', 'lang_switch_on' => false, 'lang_auto_detect' => false, 'log_record' => false, 'log_file_size' => 2097152, 'log_record_level' => array ( 0 => 'EMERG', 1 => 'ALERT', 2 => 'CRIT', 3 => 'ERR', ), 'page_rollpage' => 5, 'page_listrows' => 20, 'session_auto_start' => true, 'show_run_time' => false, 'show_adv_time' => false, 'show_db_times' => false, 'show_cache_times' => false, 'show_use_mem' => false, 'show_page_trace' => false, 'show_error_msg' => true, 'tmpl_engine_type' => 'Think', 'tmpl_detect_theme' => true, 'tmpl_template_suffix' => '.html', 'tmpl_cachfile_suffix' => '.php', 'tmpl_deny_func_list' => 'echo,exit', 'tmpl_parse_string' => '', 'tmpl_l_delim' => '{', 'tmpl_r_delim' => '}', 'tmpl_var_identify' => 'array', 'tmpl_strip_space' => false, 'tmpl_cache_on' => false, 'tmpl_cache_time' => -1, 'tmpl_action_error' => 'Public:success', 'tmpl_action_success' => 'Public:success', 'tmpl_trace_file' => './ThinkPHP/Tpl/PageTrace.tpl.php', 'tmpl_exception_file' => './ThinkPHP/Tpl/ThinkException.tpl.php', 'tmpl_file_depr' => '_', 'taglib_begin' => '<', 'taglib_end' => '>', 'taglib_load' => true, 'taglib_build_in' => 'cx', 'taglib_pre_load' => '', 'tag_nested_level' => 3, 'tag_extend_parse' => '', 'token_on' => true, 'token_name' => '__hash__', 'token_type' => 'md5', 'url_case_insensitive' => true, 'url_router_on' => false, 'url_dispatch_on' => true, 'url_model' => '2', 'url_pathinfo_model' => 2, 'url_pathinfo_depr' => '-', 'url_html_suffix' => '.html', 'var_group' => 'g', 'var_module' => 'm', 'var_action' => 'a', 'var_router' => 'r', 'var_page' => 'p', 'var_template' => 't', 'var_language' => 'l', 'var_ajax_submit' => 'ajax', 'var_pathinfo' => 's', 'site_name' => 'ShotKi射客在线影视', 'site_path' => '', 'site_url' => 'http://www.shotki.com', 'site_keywords' => '射客在线播放,电影推荐,电影排行,电视剧在线,电视剧下载', 'site_description' => '射客影视,电影推荐,电视剧下载,美剧在线,在线高清,最新,最全,最小众的在线电影', 'site_email' => 'shotki@sohu.com', 'site_copyright' => '射客在线影视提供的所有免费电影链接均通过搜索引擎采用非人工方式生成，免费电影内容均来自互联网。
www.shotki.com自身不存储、控制、编辑修改第三方免费电影页面及内容。当权利人发现在射客在线影视中的链接所指向的快播电影内容侵犯其版权时，请权利人通知shotki@sohu.com，我们将依法采取措施移除相关快播电影内容。', 'site_tongji' => '<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push([\'_setAccount\', \'UA-5841026-1\']);
  _gaq.push([\'_trackPageview\']);

  (function() {
    var ga = document.createElement(\'script\'); ga.type = \'text/javascript\'; ga.async = true;
    ga.src = (\'https:\' == document.location.protocol ? \'https://ssl\' : \'http://www\') + \'.google-analytics.com/ga.js\';
    var s = document.getElementsByTagName(\'script\')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<script src="http://s17.cnzz.com/stat.php?id=2697993&web_id=2697993&show=pic" language="JavaScript"></script>
<script src="http://www.clicki.cn/boot/43282"></script>
<script type="text/javascript">
var _nct = _nct || [];

(function() {
var nc = document.createElement(\'script\'); nc.type = \'text/javascript\'; nc.async = true;
nc.src = \'http://t.newscurve.com/nct.js\';
var s = document.getElementsByTagName(\'script\')[0]; s.parentNode.insertBefore(nc, s);
})();
</script>

', 'site_icp' => '', 'site_by' => '-高清-在线-射客影视', 'url_num_admin' => '15', 'admin_time_edit' => true, 'admin_time_limit' => '300', 'admin_order_type' => 'id', 'upload_path' => 'Upload', 'upload_style' => 'Y-m', 'upload_class' => 'jpg,gif,png,jpeg.bmp', 'upload_thumb' => false, 'upload_thumb_w' => '120', 'upload_thumb_h' => '140', 'upload_water' => false, 'upload_water_img' => 'Public/images/watermark.gif', 'upload_water_pct' => '75', 'upload_water_pos' => '5', 'upload_http' => false, 'upload_http_down' => '10', 'upload_http_prefix' => '', 'upload_ftp' => false, 'upload_ftp_host' => '', 'upload_ftp_user' => '', 'upload_ftp_pass' => '', 'upload_ftp_port' => '21', 'upload_ftp_dir' => '/', 'play_show' => '1', 'play_urllist' => '1', 'play_width' => '800', 'play_height' => '460', 'play_qvod' => 'http://www.shotki.com/Public/Qvod3.5.exe', 'play_gvod' => 'http://union.ff84.com/ads/vod/player.php?id=gvod', 'play_pvod' => 'http://union.ff84.com/ads/vod/player.php?id=pvod', 'play_web9' => 'http://union.ff84.com/ads/vod/player.php?id=web9', 'play_pipi' => 'http://union.ff84.com/ads/vod/player.php?id=pvod', 'play_playad' => 'http://www.shotki.com/Html/loading.html', 'play_language' => '粤语,台语,国语,韩语,日语,英语', 'play_area' => '香港,台湾,大陆,日韩,欧美,海外', 'play_year' => '2010,2009,2008,2007,2006,2005,2004,2003,2002,2001,2000,1999', 'play_server' => array ( 'down_a' => 'http://www.163.com/', 'down_b' => 'http://www.baidu.com/', ), 'play_collect_time' => '5', 'play_collect_name' => '0', 'play_collect' => true, 'play_collect_content' => array ( 0 => '<a href="http://www.shotki.com" target="_blank"><font color="red">射客在线影视</font></a>', 1 => '可以去豆瓣中查找相关详细影评', 2 => '时光网有相关电影发布介绍', 3 => '射客在线的影视均来自网络', 4 => '注意：电影播放可能需要下载快播插件，本站提供的是无广告纯净版，请放心下载', 5 => '射客在线拒绝弹窗，', 6 => '在线影视来源于网络，如果您发现片源与标题不符或者效果较差，请留言。', 7 => '没有更好只有最好的射客在线提供', 8 => '您可以通过分享推荐你开心，校内，QQ中的好友们观看本站电影', 9 => '别忘记给电影评分哦！', 10 => '可以留言嘛！', ), 'html_home_suffix' => '.html', 'html_cache_index' => '1', 'html_cache_list' => '1.5', 'html_cache_content' => '12', 'html_cache_play' => '12', 'html_cache_ajax' => '12', '_htmls_' => array ( 'home:index:index' => array ( 0 => '{:action}', 1 => 3600, ), 'home:vod:show' => array ( 0 => '{:module}_{:action}/{$_SERVER.REQUEST_URI|md5}', 1 => 5400, ), 'home:news:show' => array ( 0 => '{:module}_{:action}/{$_SERVER.REQUEST_URI|md5}', 1 => 5400, ), 'home:vod:read' => array ( 0 => '{:module}_{:action}/{id|md5}', 1 => 43200, ), 'home:news:read' => array ( 0 => '{:module}_{:action}/{$_SERVER.REQUEST_URI|md5}', 1 => 43200, ), 'home:vod:play' => array ( 0 => '{:module}_{:action}/{id|md5}', 1 => 43200, ), 'home:ajax:show' => array ( 0 => '{:module}_{:action}/{$_SERVER.REQUEST_URI|md5}', 1 => 43200, ), ), 'play_list' => array ( '' => '', ), 'url_html' => '0', 'url_dir_a' => '1', 'url_dir_b' => '1', 'url_time' => '2', 'url_number' => '100', 'url_vodlist' => 'vodlist/', 'url_voddata' => 'vod/', 'url_vodplay' => 'play/', 'url_newslist' => 'newslist/', 'url_newsdata' => 'news/', 'url_map' => 'map/', 'home_pagenum' => '3', 'home_pagego' => 'pagego', 'user_gbcm' => false, 'user_second' => '60', 'user_gbnum' => '8', 'user_cmnum' => '5', 'user_replace' => '她妈|它妈|他妈|你妈|去死|贱人', 'upload_ftp_del' => '0', 'play_baofeng' => '', 'play_bdhd' => '', 'play_second' => 0, 'user_auth_key' => 'ppvod', 'not_auth_module' => 'Login,Install,Collect', 'require_auth_module' => 'Index,List,Vod,News,User,Tool,Upload,Link,Ads,Cache,Html,Tpl,Cm,Gb,Tag', 'not_auth_action' => 'show,add,index,top,left,main,collect', 'admin_name' => '飞飞影视系统PHP版', 'admin_var' => '1.9', 'admin_url' => 'http://www.ff84.com/', 'admin_urlvar' => 'http://union.ff84.com/up/ppvod_version.js', 'admin_keywords' => '飞飞影视系统', 'admin_description' => '努力打造飞飞影视系统为最好的影视系统!', 'admin_welcome' => '欢迎光临飞飞影视系统PHP版管理后台', 'play_player' => array ( 'qvod' => '快播高清', 'baofeng' => '暴风影音', 'yuku' => '优酷视频', 'tudou' => '土豆视频', 'bdhd' => '百度影音', 'qiyi' => '奇艺高清', 'pvod' => '皮皮高清', 'sinahd' => '新浪视频', 'sohu' => '搜狐视频', 'ku6' => '酷六视频', 'qq' => '腾讯视频', 'web9' => '久久影音', 'pipi' => '闪播影音', 'gvod' => '迅播高清', 'down' => '影片下载', 'swf' => 'Swf动画', 'flv' => 'Flv视频', 'pptv' => 'PPTV视频', 'letv' => '乐视视频', 'media' => 'Media Player', 'real' => 'Real Player', ), ); ?>